<!DOCTYPE html>
<html lang="zh-cmn-Hans">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <meta http-equiv=”Cache-Control” content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <title>Git ignorecase in Case-sensitive system | voya</title>

  



<link rel="stylesheet" href="/./vendor.ec1199.css"><link rel="stylesheet" href="/./app.72d74b.css">


</head>
  <body>
    <header class="main-header">
  <div class="container">
    <a href="/"" class="logo">
      <img src="http://oe54phg1r.bkt.clouddn.com/blog/2017-07-26-075816.jpg" alt="voya" class="logo-img">
    </a>
    <span class="nav-separator"></span>
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索文章"><input type="hidden" name="sitesearch" value="http://www.voyax.me"></form>
    <a href="javascript:void(0);" class="nav-icon">
      <i class="fas fa-bars"></i>
    </a>
    <nav class="main-nav">
      <ul class="nav-list">
        
          <li class="nav-link ">
            <a href="../../index.html">首页</a>
          </li>
        
          <li class="nav-link ">
            <a href="../../archives/">归档</a>
          </li>
        
          <li class="nav-link ">
            <a href="../../categories">分类</a>
          </li>
        
          <li class="nav-link ">
            <a href="../../about">关于</a>
          </li>
        
      </ul>
    </nav>
  </div>
</header>
    <div class="page--article">
  


  <div class="container">
    <article>
      <h1>Git ignorecase in Case-sensitive system</h1>
      <p>晚上10点多公司的妹子发了张截图给我（妹子这么刻苦让我汗颜。。。），在我们的 git 仓库中，存在几对仅文件名大小写有区别，内容完全一样的文件。原因很容易想到——重命名。这个问题比较小一般也不容易出现，不过其实花时间想想也蛮有意思。</p>
<p><strong>case-insensitive file system</strong></p>
<p>不同的文件系统对大小写是否敏感策略是不同的，以 <code>macOS</code> 为例, 最新的 <code>HFS+</code> 和 <code>APFS</code> 默认大小写不敏感：</p>
<blockquote>
<p>APFS accepts only valid UTF-8 encoded filenames for creation, and preserves both case and normalization of the filename on disk in all variants. APFS, like HFS+, is case-sensitive on iOS and is available in case-sensitive and case-insensitive variants on macOS, with case-insensitive being the default.</p>
<p>In macOS High Sierra, APFS is normalization-insensitive in both the case-insensitive and case-sensitive variants, using a hash-based native normalization scheme. In iOS 11, APFS is normalization-insensitive as well, using either a native normalization scheme (erase restores only) or runtime normalization scheme (upgrades from previous versions). Runtime normalization will also be available in iOS 10.3.3 and macOS Sierra 10.12.6. Being normalization-insensitive ensures that normalization variants of a filename cannot be created in the same directory, and that a filename can be found with any of its normalization variants. This means that developers don’t need to do any additional work to ensure correct normalization behavior in these versions of macOS and iOS.<br> <a href="https://developer.apple.com/library/content/documentation/FileManagement/Conceptual/APFS_Guide/FAQ/FAQ.html" target="_blank" rel="noopener">How does Apple File System handle filenames?</a></p>
</blockquote>
<p>默认情况下，<code>windows</code> 和 <code>mac</code> 的文件系统都是大小写不敏感的。需要说明的是，我们的大小写敏感实际关系到的是所使用的 <strong>文件系统</strong>。</p>
<p><strong>core.ignorecase</strong></p>
<blockquote>
<p>If true, this option enables various workarounds to enable git to work better on filesystems that are not case sensitive, like FAT. For example, if a directory listing finds makefile when git expects Makefile, git will assume it is really the same file, and continue to remember it as Makefile. <a href="http://jk.gs/git-config.html" target="_blank" rel="noopener">git config documentation</a></p>
</blockquote>

  </article>
    
  </div>
</div>

    <footer class="main-footer">
  <div class="container">
    © 2018 voya
  </div>
</footer>
    



<script src="/./runtime.32f029.js"></script><script src="/./vendor.ec1199.js"></script><script src="/./app.72d74b.js"></script>


  </body>
</html>
