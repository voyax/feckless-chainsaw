<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="像孩子一样写代码"><meta name="keywords" content="CSS, JavaScript, NodeJS, Vue, React, Sketch, Git"><title>电商爬虫第一版完工 - voya</title><link rel="stylesheet" href="/css/jquery.tocify.css"><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="http://oe54phg1r.bkt.clouddn.com/favicon32x32.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="/categories/365/"><span>忆</span></a></li><li><a href="/categories/css-tutorial/"><span>CSS 教程</span></a></li></ul><div class="wrapper wrapper--article" id="wrap"><div id="toc"><div class="toc-text">Table of Content ▾</div></div><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://oe54phg1r.bkt.clouddn.com/blog/2017-09-26-2017-08-16-adam-whitlock-270558-cmp.jpg"><div class="post-title"><h1 class="title">电商爬虫第一版完工</h1><ul class="meta"><li><i class="icon icon-author"></i>voya</li><li><i class="icon icon-clock"></i>2 Minutes</li><li><i class="icon icon-calendar"></i>2015年4月7日</li></ul></div></div><div class="article-content" style="max-width:700px"><p>清明节三天憋在家终于搞定针对京东的爬虫，今天下班回来，抓紧把程序部署到vps上。毕设还有一堆活要做，Come on!</p>
<p>整理下这几天遇到的麻烦：</p>
<p>开发环境：</p>
<blockquote>
<p>本机：Mac OS X 10.9</p>
<p>jdk:1.7</p>
<p>maven :3.3.1</p>
<p>mongodb:3.0<br>一、maven 问题汇总</p>
</blockquote>
<p>1.maven 之环境变量</p>
<p><pre>Exception in thread “main” java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 51.0<br></pre><br>好吧，这个是不是问题的问题，不要鄙视我，但是我就是没设置环境变量……</p>
<p>解决方案：设置JAVA_HOME呗</p>
<p><pre>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home<br></pre><br>顺便提一句，安装maven时，记得看官方给你说明，比较下网上那些所谓的参考教程，你就知道网上说的不仅千篇一律还错误连篇！官网给的说明很清晰！</p>
<p>2.maven 之编译打包</p>
<p>之前一直在eclipse下用m2e插件管理工程，但是不可能跑到vps上装一个eclipse啊，好吧，我把整个工程打包成jar扔到了远程上，让它自己玩去吧~</p>
<p>maven打包时，遇到各种问题。不好意思，抛得各种错误没有记录，将pom.xml中的build部分贴出来吧，其中指定了运行的main class：</p>
<p>[caption id=”” align=”alignnone” width=”488”]<img alt="maven-build" class="img-loading" data-original="http://lhyun-wordpress.qiniudn.com/maven-build.png"> maven-build[/caption]</p>
<p>关于maven的初步介绍和使用，推荐一篇教程<a href="http://my.oschina.net/huangyong/blog/194583" title="maven学习" target="_blank" rel="external">http://my.oschina.net/huangyong/blog/194583</a></p>
<p>maven直接打包也很简单，配置好后，直接clean再package，搞定</p>
<p><pre>mvn clean package<br></pre><br>二、log4j 的问题，现在仍没明白……<br>log4j是一个操控日志信息的一个工具，其他的自行Google，我在eclipse下运行完全正常，但是打包后运行就报</p>
<p><pre>log4j:WARN No appenders could be found for logger (org.apache.ibatis.logging.LogFactory).<br>log4j:WARN Please initialize the log4j system properly.<br></pre><br>调了一下午没解决，没解决……然后晚上回来莫名其妙好了。不懂了<br>附上配置文件：</p>
<p>&nbsp;</p>
<p>[caption id=”” align=”alignnone” width=”517”]<img alt="log4j-config" class="img-loading" data-original="http://lhyun-wordpress.qiniudn.com/log4j-config.png"> log4j-config[/caption]</p>
<p>三、Java 内存溢出java.lang.OutOfMemoryError</p>
<p>当时在eclipse下直接用debug configurations配置了jvm得内存，部署到ubuntu下又抛了内存溢出，</p>
<p>直接在运行的时候加上Xms和Xmx参数。</p>
<p>好困，先睡觉:)</p>
</div><div class="article-meta" style="max-width:700px"><div class="categories"><i class="icon icon-category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/">学习笔记</a><span class="category-list-count">45</span></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/posts/14139/"><i class="icon icon-arror-left"></i></a></li><li><a href="/posts/65148/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="bottom"><div class="copyright">© 2017 voya<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small></div></div></div></div><script src="https://cdn.staticfile.org/jquery/1.8.3/jquery.min.js"></script><script src="https://cdn.staticfile.org/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script><script src="/js/jquery-ui-1.9.1.custom.min.js"></script><script src="/js/jquery.tocify.min.js"></script><script>$(function(){
  var wrap = document.getElementById("wrap");
  wrap.className += " done";
  if (document.querySelector("#toc")) {
    $("#toc").tocify({
      context: "body",
      selectors: "h2,h3,h4,h5",
      extendPage: false,
    }).data("toc-tocify");
    const b = document.querySelector("#toc");

    function a() {
      b.classList.toggle("show")
    }

    document.querySelector(".toc-text").addEventListener("mouseenter", a);
    if (document.querySelector(".tocify-header")) {
      b.style.display = "block"
    }
  }
  $(".post-list img, .article-content img").lazyload({
    placeholder:"http://oe54phg1r.bkt.clouddn.com/typing-preloader.svg",
    effect:"fadeIn",
    load : function(elements_left, settings) {
      $(this).removeClass("img-loading");
    }
  });
});</script></body></html>