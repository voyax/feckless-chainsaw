<!DOCTYPE html>
<html lang="zh-cmn-Hans">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <meta http-equiv=”Cache-Control” content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <title>电商爬虫第一版完工 | voya</title>
  <link rel="icon" type="image/png" sizes="32x32" href="http://oe54phg1r.bkt.clouddn.com/favicon32x32.ico">
  



<link rel="stylesheet" href="/./vendor.ec1199.css"><link rel="stylesheet" href="/./app.1bacbd.css">


</head>
  <body>
    <header class="main-header">
  <div class="container">
    <a href="/"" class="logo">
      <img src="http://oe54phg1r.bkt.clouddn.com/blog/2017-07-26-075816.jpg" alt="voya" class="logo-img">
    </a>
    <span class="nav-separator"></span>
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索文章"><input type="hidden" name="sitesearch" value="http://www.voyax.me"></form>
    <a href="javascript:void(0);" class="nav-icon">
      <i class="fas fa-bars"></i>
    </a>
    <nav class="main-nav">
      <ul class="nav-list">
        
          <li class="nav-link ">
            <a href="../../index.html">首页</a>
          </li>
        
          <li class="nav-link ">
            <a href="../../archives/">归档</a>
          </li>
        
          <li class="nav-link ">
            <a href="../../categories">分类</a>
          </li>
        
          <li class="nav-link ">
            <a href="../../about">关于</a>
          </li>
        
      </ul>
    </nav>
  </div>
</header>
    <div class="page--article">
  


  <div class="container">
    <article>
      <h1>电商爬虫第一版完工</h1>
      <p>清明节三天憋在家终于搞定针对京东的爬虫，今天下班回来，抓紧把程序部署到vps上。毕设还有一堆活要做，Come on!</p>
<p>整理下这几天遇到的麻烦：</p>
<p>开发环境：</p>
<blockquote>
<p>本机：Mac OS X 10.9</p>
<p>jdk:1.7</p>
<p>maven :3.3.1</p>
<p>mongodb:3.0<br>一、maven 问题汇总</p>
</blockquote>
<p>1.maven 之环境变量</p>
<p><pre>Exception in thread “main” java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 51.0<br></pre><br>好吧，这个是不是问题的问题，不要鄙视我，但是我就是没设置环境变量……</p>
<p>解决方案：设置JAVA_HOME呗</p>
<p><pre>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home<br></pre><br>顺便提一句，安装maven时，记得看官方给你说明，比较下网上那些所谓的参考教程，你就知道网上说的不仅千篇一律还错误连篇！官网给的说明很清晰！</p>
<p>2.maven 之编译打包</p>
<p>之前一直在eclipse下用m2e插件管理工程，但是不可能跑到vps上装一个eclipse啊，好吧，我把整个工程打包成jar扔到了远程上，让它自己玩去吧~</p>
<p>maven打包时，遇到各种问题。不好意思，抛得各种错误没有记录，将pom.xml中的build部分贴出来吧，其中指定了运行的main class：</p>
<p>[caption id=”” align=”alignnone” width=”488”]<img src="http://lhyun-wordpress.qiniudn.com/maven-build.png" alt="maven-build"> maven-build[/caption]</p>
<p>关于maven的初步介绍和使用，推荐一篇教程<a href="http://my.oschina.net/huangyong/blog/194583" title="maven学习" target="_blank" rel="noopener">http://my.oschina.net/huangyong/blog/194583</a></p>
<p>maven直接打包也很简单，配置好后，直接clean再package，搞定</p>
<p><pre>mvn clean package<br></pre><br>二、log4j 的问题，现在仍没明白……<br>log4j是一个操控日志信息的一个工具，其他的自行Google，我在eclipse下运行完全正常，但是打包后运行就报</p>
<p><pre>log4j:WARN No appenders could be found for logger (org.apache.ibatis.logging.LogFactory).<br>log4j:WARN Please initialize the log4j system properly.<br></pre><br>调了一下午没解决，没解决……然后晚上回来莫名其妙好了。不懂了<br>附上配置文件：</p>
<p>&nbsp;</p>
<p>[caption id=”” align=”alignnone” width=”517”]<img src="http://lhyun-wordpress.qiniudn.com/log4j-config.png" alt="log4j-config"> log4j-config[/caption]</p>
<p>三、Java 内存溢出java.lang.OutOfMemoryError</p>
<p>当时在eclipse下直接用debug configurations配置了jvm得内存，部署到ubuntu下又抛了内存溢出，</p>
<p>直接在运行的时候加上Xms和Xmx参数。</p>
<p>好困，先睡觉:)</p>

  </article>
    
  </div>
</div>

    <footer class="main-footer">
  <div class="container">
    © 2018 voya
  </div>
</footer>
    



<script src="/./runtime.32f029.js"></script><script src="/./vendor.ec1199.js"></script><script src="/./app.1bacbd.js"></script>


  </body>
</html>
